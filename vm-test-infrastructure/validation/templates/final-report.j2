# Final Release Testing Report
# wolskies.infrastructure Collection v1.2.0

Generated: {{ ansible_date_time.iso8601 }}

## Test Environment Summary

Total VMs Tested: {{ validation_results | length }}
{% set servers = validation_results | selectattr('type', 'equalto', 'server') | list %}
{% set workstations = validation_results | selectattr('type', 'equalto', 'workstation') | list %}
- Servers: {{ servers | length }}
- Workstations: {{ workstations | length }}

## Overall Results

{% set passed_hosts = validation_results | selectattr('status', 'equalto', 'pass') | list %}
{% set failed_hosts = validation_results | selectattr('status', 'equalto', 'fail') | list %}
**OVERALL STATUS: {{ 'PASS' if failed_hosts | length == 0 else 'FAIL' }}**

- ‚úÖ Passed: {{ passed_hosts | length }}/{{ validation_results | length }} hosts
- ‚ùå Failed: {{ failed_hosts | length }}/{{ validation_results | length }} hosts

## Detailed Results

{% for result in validation_results %}
### {{ result.hostname }} ({{ result.type | title }})

**Status: {{ result.status | upper }}**
- Passed: {{ result.passed }}/{{ result.checks | length }} checks
{% if result.failed > 0 %}
- Failed: {{ result.failed }} checks
{% endif %}

#### Test Results:
{% for check in result.checks %}
{% if check.passed %}
‚úÖ {{ check.test }}: PASS
   Expected: {{ check.expected }}
   Actual: {{ check.actual }}
{% else %}
‚ùå {{ check.test }}: FAIL
   Expected: {{ check.expected }}
   Actual: {{ check.actual }}
{% endif %}
{% endfor %}

{% endfor %}

## Platform Coverage

{% set platforms = validation_results | map(attribute='hostname') | map('regex_replace', '^([^-]+).*', '\\1') | unique | list %}
{% for platform in platforms %}
{% set platform_results = validation_results | selectattr('hostname', 'match', '^' + platform + '.*') | list %}
### {{ platform | title }}
- Tested: {{ platform_results | length }} VM(s)
- Status: {{ 'PASS' if platform_results | selectattr('status', 'equalto', 'fail') | list | length == 0 else 'FAIL' }}
{% endfor %}

## Configuration Testing

### Server Configuration
{% for server in servers %}
- {{ server.hostname }}: {{ server.status | upper }}
{% endfor %}

### Workstation Configuration
{% for workstation in workstations %}
- {{ workstation.hostname }}: {{ workstation.status | upper }}
{% endfor %}

## Summary

This comprehensive test validates the wolskies.infrastructure collection across:
- Multiple Linux distributions (Ubuntu, Debian, Arch)
- Different configuration types (server, workstation)
- Core functionality (users, packages, security, development tools)

{% if failed_hosts | length == 0 %}
üéâ **All tests passed!** The collection is ready for v1.2.0 release.
{% else %}
‚ö†Ô∏è  **{{ failed_hosts | length }} test(s) failed.** Review the failed checks above before release.

Failed hosts:
{% for host in failed_hosts %}
- {{ host.hostname }}: {{ host.checks | rejectattr('passed') | map(attribute='test') | join(', ') }}
{% endfor %}
{% endif %}

## Next Steps

1. Review any failed test cases
2. Address issues or update test expectations
3. Re-run tests if fixes are applied
4. Proceed with v1.2.0 release when all tests pass

---
Generated by Final Release Testing Infrastructure
