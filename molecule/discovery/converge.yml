---
# Test infrastructure discovery utility
- name: Test infrastructure discovery
  hosts: discovery_targets
  gather_facts: true

  tasks:
    - name: Run infrastructure discovery role
      ansible.builtin.include_role:
        name: wolskinet.infrastructure.discovery

    - name: Display discovery completion
      ansible.builtin.debug:
        msg: "Infrastructure discovery completed for {{ inventory_hostname }}"
