---
- name: Test individual role
  hosts: all
  gather_facts: true
  vars:
    # Override any problematic defaults for container testing
    packages_perform_system_upgrade: false
    firewall_enable: false
    config_manage_unattended_upgrades: false
  tasks:
    - name: Test configure_host role
      ansible.builtin.include_role:
        name: wolskinet.infrastructure.configure_host

    - name: Test manage_packages role
      ansible.builtin.include_role:
        name: wolskinet.infrastructure.manage_packages
      vars:
        host_packages_install_Ubuntu:
          - curl
          - wget
