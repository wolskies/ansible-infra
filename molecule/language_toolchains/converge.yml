---
- name: Test all language toolchains
  hosts: all
  become: true
  tasks:
    # First create the user for toolchain installation
    - name: Include os_configuration role for user creation
      ansible.builtin.include_role:
        name: wolskies.infrastructure.os_configuration
      tags:
        - users

    # Test Node.js toolchain
    - name: Test nodejs role
      ansible.builtin.include_role:
        name: wolskies.infrastructure.nodejs

    # Test Rust toolchain
    - name: Test rust role
      ansible.builtin.include_role:
        name: wolskies.infrastructure.rust

    # Test Go toolchain
    - name: Test go role
      ansible.builtin.include_role:
        name: wolskies.infrastructure.go

    # Test Neovim setup
    - name: Test neovim role
      ansible.builtin.include_role:
        name: wolskies.infrastructure.neovim

    # Test terminal configuration
    - name: Test terminal_config role
      ansible.builtin.include_role:
        name: wolskies.infrastructure.terminal_config
