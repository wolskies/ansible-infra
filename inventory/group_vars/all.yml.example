---
domain_name: "example.com"
domain_timezone: "America/New_York"
domain_locale: "en_US.UTF-8"
domain_language: "en_US.UTF-8"
domain_timesync:
  enabled: true
  servers:
    - 0.pool.ntp.org
    - 1.pool.ntp.org

host_hostname: "{{ inventory_hostname }}"
host_update_hosts: true
host_services:
  enable: [docker]
  disable: [bluetooth, cups]
  mask: [snapd]
host_modules:
  load: [br_netfilter, overlay]
  blacklist: [pcspkr, nouveau]
host_udev_rules:
  - name: usb-permissions
    content: 'SUBSYSTEM=="usb", MODE="0666"'
    priority: 99
    state: present

journal:
  configure: true
  max_size: "500M"
  max_retention: "30d"
  forward_to_syslog: false
  compress: true

hardening:
  os_hardening_enabled: true
  ssh_hardening_enabled: true

rsyslog:
  enabled: false
  remote_host: ""
  remote_port: 514
  protocol: "udp"

apt:
  proxy: ""
  no_recommends: false
  unattended_upgrades:
    enabled: true
  system_upgrade:
    enable: false
    type: "safe"

apt_repositories_host:
  Ubuntu:
    - name: docker
      types: [deb]
      uris: "https://download.docker.com/linux/ubuntu"
      suites: "{{ ansible_distribution_release }}"
      components: [stable]
      signed_by: "https://download.docker.com/linux/ubuntu/gpg"

pacman:
  proxy: ""
  no_confirm: false
  multilib:
    enabled: false
  enable_aur: true

macosx:
  updates:
    auto_check: true
    auto_download: true
  gatekeeper:
    enabled: true
  system_preferences:
    natural_scroll: true
    measurement_units: "Inches"
    use_metric: false
    show_all_extensions: false
  airdrop:
    ethernet_enabled: false

homebrew:
  cleanup_cache: true
  taps: []

packages:
  present:
    all:
      Ubuntu: [git, curl, vim, htop]
      Debian: [git, curl, vim, htop]
      Archlinux: [git, curl, vim, htop]
      Darwin: [git, curl, vim]
  casks_present:
    all: []
    group: []
    host: []

snap:
  remove_completely: false
  packages:
    install: []
    remove: []

flatpak:
  enabled: false
  remotes: []
  packages:
    install: []
    remove: []

users:
  - name: developer
    shell: /bin/bash
    git:
      user_name: "John Doe"
      user_email: "john@example.com"
      editor: "vim"
    dotfiles:
      enable: true
      repository: "git@github.com:user/dotfiles.git"
      dest: ".dotfiles"
      branch: "main"

firewall:
  enabled: true
  prevent_ssh_lockout: true
  rules:
    - rule: allow
      port: 80
      proto: tcp
      comment: "HTTP"
    - rule: allow
      port: 443
      proto: tcp
      comment: "HTTPS"

fail2ban:
  enabled: true
  sender: "root@localhost"
  dest_email: ""
  defaults:
    bantime: 3600
    findtime: 600
    maxretry: 5
  services:
    - name: sshd
      enabled: true
      maxretry: 3
      bantime: 3600
  ignoreips:
    - "127.0.0.1/8"
    - "::1"
