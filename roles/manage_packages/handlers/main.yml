#SPDX-License-Identifier: MIT
---
# handlers file for roles/manage_packages

- name: restart system
  ansible.builtin.reboot:
    reboot_timeout: 600
    connect_timeout: 20
    test_command: whoami
  become: true
  when: ansible_system == 'Linux'

- name: restart reflector
  ansible.builtin.systemd:
    name: reflector.timer
    state: restarted
  become: true
  when: ansible_virtualization_type | default('') != 'docker'
  failed_when: false
