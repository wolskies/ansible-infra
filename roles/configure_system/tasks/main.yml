---
- name: Configure Operating System
  ansible.builtin.include_role:
    name: "wolskies.infrastructure.os_configuration"
  tags:
    - host-configuration
    - core

- name: Manage Firewall & fail2ban
  ansible.builtin.include_role:
    name: "wolskies.infrastructure.manage_security_services"
  tags:
    - security-services
    - core

- name: Manage System Packages
  ansible.builtin.include_role:
    name: "wolskies.infrastructure.manage_packages"
  tags:
    - packages
    - package-management
    - core

- name: Manage Snap Packages
  ansible.builtin.include_role:
    name: "wolskies.infrastructure.manage_snap_packages"
  when: ansible_system == "Linux"
  tags:
    - snap-packages
    - optional

- name: Manage Flatpak Packages
  ansible.builtin.include_role:
    name: "wolskies.infrastructure.manage_flatpak"
  when: ansible_system == "Linux"
  tags:
    - flatpak-packages
    - optional

- name: Configure User Preferences
  ansible.builtin.include_role:
    name: "wolskies.infrastructure.configure_users"
  tags:
    - user-preferences
    - optional
