---
# Manage Snap Packages Role Argument Specification
# This role manages both snapd system and snap packages on Debian/Ubuntu systems

argument_specs:
  main:
    short_description: Manage snapd system and snap packages on Debian/Ubuntu systems
    description:
      - Manages snap package system installation and complete removal
      - Handles individual snap package installation and removal
      - Supports classic confinement and channel specification
      - Prevents snap system reinstallation after removal
      - Uses collection-wide variables for consistent snap management

    options:
      # Snap System Configuration
      snap:
        description:
          - Snap package system configuration options
          - Controls complete system removal and package management
        type: dict
        required: false
        default: {}
        options:
          remove_completely:
            description: Completely remove snapd system from Debian/Ubuntu systems
            type: bool
            required: false
            default: false

      # Snap Package Management
      snap_packages:
        description:
          - List of snap package definitions to install or remove
          - Each package can specify state, classic mode, and channel
        type: list
        elements: dict
        required: false
        default: []
        options:
          name:
            description: Snap package name
            type: str
            required: true
          state:
            description: Package state
            type: str
            required: false
            default: "present"
            choices: ["present", "absent", "enabled", "disabled"]
          classic:
            description: Install with classic confinement (bypasses snap security restrictions)
            type: bool
            required: false
            default: false
          channel:
            description: Package channel to install from
            type: str
            required: false
