#SPDX-License-Identifier: MIT-0
---
# handlers file for gitlab

- name: restart gitlab
  community.docker.docker_compose:
    project_src: "{{ gitlab_service_dir }}"
    state: present
    recreate: always
    pull: true
  become: true
  listen: "restart gitlab"

- name: restart nginx
  ansible.builtin.systemd:
    name: nginx
    state: restarted
  become: true
  listen: "restart nginx"

- name: reload nginx
  ansible.builtin.systemd:
    name: nginx
    state: reloaded
  become: true
  listen: "reload nginx"
