---
# =============================================================================
# OS CONFIGURATION ROLE VARIABLES
# =============================================================================
# This role handles domain-level and host-level OS configuration including
# hostname, timezone, locale, NTP, logging, services, and system optimizations
# Variables mirror the structure in configure_system/defaults/main.yml
# =============================================================================

infrastructure:
  domain:
    name: ""
    timezone: "UTC"
    locale: "en_US.UTF-8"
    language: "en_US.UTF-8"
    ntp:
      enabled: true
      servers:
        - 0.pool.ntp.org
        - 1.pool.ntp.org
        - 2.pool.ntp.org
        - 3.pool.ntp.org
  host:
    hostname: ""
    update_hosts: true
    journal:
      configure: true
      max_size: "500M"
      max_retention: "30d"
      forward_to_syslog: false
      compress: true
    rsyslog:
      enabled: false
      remote_host: ""
      remote_port: 514
      protocol: "udp"
    services:
      enable: []
      disable: []
    optimizations:
      tune_swappiness: false
      swappiness: 10
    sysctl:
      parameters: {}
      # Example:
      #   net.core.default_qdisc: "fq"
      #   net.ipv4.tcp_congestion_control: "bbr"
    limits:
      limits: []
      # Example:
      #   - domain: '*'
      #     limit_type: soft
      #     limit_item: nofile
      #     value: 65536
    modules:
      load: []
      blacklist: []
      # Example:
      # load: [uvcvideo, btusb]
      # blacklist: [nouveau]
    udev:
      rules: []
      # Example udev rules for hardware devices:
      # rules:
      #   - name: pico
      #     content: 'SUBSYSTEM=="usb", ATTRS{idVendor}=="2e8a", ATTRS{idProduct}=="000c", MODE="0666"'
      #     priority: 99
      #     state: present
      #   - name: expressif
      #     content: 'SUBSYSTEM=="usb", ATTRS{idVendor}=="303a", ATTRS{idProduct}=="1001", MODE="0666"'
      #     priority: 99
      #     state: present
      #   - name: ttyacm-dialout
      #     content: 'KERNEL=="ttyACM[0-9]*", GROUP="dialout", MODE="0660"'
      #     priority: 99
      #     state: present
      #   - name: old-device
      #     priority: 50
      #     state: absent  # Remove this rule
    snap:
      remove_completely: false
    packages:
      apt:
        no_recommends: false
        proxy: ""
        unattended_upgrades:
          enabled: true
          email: ""
          auto_reboot: false
          reboot_with_users: false
          reboot_time: "02:00"
      pacman:
        no_confirms: false
        proxy: ""
        multilib: false
      macosx:
        updates:
          auto_check: true
          auto_download: true
        gatekeeper:
          enabled: true
        system_preferences:
          natural_scroll: true
          measurement_units: "Inches" # Inches, Centimeters
          use_metric: false
          show_all_extensions: false
        airdrop:
          ethernet_enabled: false
