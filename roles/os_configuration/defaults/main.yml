---
# =============================================================================
# OS CONFIGURATION ROLE VARIABLES
# =============================================================================
# This role handles domain-level and host-level OS configuration including
# hostname, timezone, locale, NTP, logging, services, and security hardening
#
# DEVSEC.HARDENING INTEGRATION: This role leverages devsec.hardening.os_hardening
# for comprehensive Linux security (200+ configurations). Variables like
# host_sysctl and host_modules are passed through to devsec.hardening for unified management.
#
# Variables mirror the structure in configure_system/defaults/main.yml
# =============================================================================

domain_name: ""
domain_timezone: ""
domain_locale: "en_US.UTF-8"
domain_language: "en_US.UTF-8"
domain_ntp:
  enabled: false
  servers: []

host_hostname: ""
host_update_hosts: true

# Host services (Linux systemd service management)
host_services: {}
# Example: { enable: ["nginx"], disable: ["bluetooth"], mask: ["snapd"] }

# Host sysctl parameters (Linux) - passed through to devsec.hardening
host_sysctl: {}
# Example: { parameters: { "vm.swappiness": 10, "net.ipv4.ip_forward": 1 } }
# Note: devsec.hardening applies comprehensive security sysctl, these extend/override via sysctl_overwrite

# Host kernel modules (Linux) - passed through to devsec.hardening
host_modules: {}
# Example: { load: ["uvcvideo"], blacklist: ["nouveau"] }
# Note: load/blacklist are passed to devsec.hardening via os_kernel_modules_load/os_unused_filesystems

# Host udev rules (Linux) - NOT handled by devsec.hardening
host_udev: {}
# Example: { rules: [{ name: "pico", priority: 99, content: "...", state: "present" }] }

# Host security settings - mapped to devsec.hardening.os_hardening variables
host_security:
  hardening_enabled: true # Enable/disable comprehensive OS hardening
  disable_ctrl_alt_del: false # Disable ctrl-alt-delete key combination
  users_allow: [] # List of users allowed to perform privileged operations
  remove_additional_root_users: false # Remove additional root users beyond root
  enforce_password_aging: true # Enable password aging policies

host_fonts:
  nerd_fonts:
    enabled: false
    install_dir: "/usr/share/fonts/nerd-fonts"
    fonts: []

journal:
  configure: false
  max_size: "500M"
  max_retention: "30d"
  forward_to_syslog: false
  compress: true

rsyslog:
  enabled: false
  remote_host: ""
  remote_port: 514
  protocol: "udp"

# Note: System optimizations like vm.swappiness are handled via host_sysctl.parameters
# which are passed through to devsec.hardening.os_hardening via sysctl_overwrite
# Example: host_sysctl.parameters.vm.swappiness: 10

apt:
  no_recommends: false
  proxy: ""
  unattended_upgrades:
    enabled: true
    email: ""
    auto_reboot: false
    reboot_with_users: false
    reboot_time: "02:00"

pacman:
  no_confirms: false
  proxy: ""
  multilib: false

macosx:
  updates:
    auto_check: true
    auto_download: true
  gatekeeper:
    enabled: true
  system_preferences:
    natural_scroll: true
    measurement_units: "Inches" # Inches, Centimeters
    use_metric: false
    show_all_extensions: false
  airdrop:
    ethernet_enabled: false

snap:
  remove_completely: false
