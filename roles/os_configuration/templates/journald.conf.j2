# {{ ansible_managed }}
# systemd-journald configuration

[Journal]
# Storage settings
Storage=persistent

# Size limits
SystemMaxUse={{ infrastructure[ansible_distribution].journal.max_size }}
RuntimeMaxUse={{ infrastructure[ansible_distribution].journal.max_size }}

# Retention settings
MaxRetentionSec={{ infrastructure[ansible_distribution].journal.max_retention }}

# Compression
Compress=yes

# Rate limiting
RateLimitInterval=30s
RateLimitBurst=1000

# Additional journal settings
ForwardToSyslog=no
ForwardToKMsg=no
ForwardToConsole=no
MaxLevelStore=info
MaxLevelSyslog=info
