---
# Handlers for third-party packages role

- name: Update apt cache
  ansible.builtin.apt:
    update_cache: true
  become: true
  when: ansible_distribution in ["Ubuntu", "Debian"]

- name: Reload shell environment
  ansible.builtin.shell: |
    if [ -f ~/.bashrc ]; then source ~/.bashrc; fi
    if [ -f ~/.zshrc ]; then source ~/.zshrc; fi
  become: false
  changed_when: false
  failed_when: false
