---
# Linux OS-specific user configuration

- name: Set user shell for {{ current_user_config.name }}
  ansible.builtin.user:
    name: "{{ current_user_config.name }}"
    shell: "{{ current_user_config[ansible_distribution].shell }}"
  become: true
  when:
    - current_user_config[ansible_distribution] is defined
    - current_user_config[ansible_distribution].shell is defined
    - current_user_config[ansible_distribution].shell | length > 0
  tags:
    - shell
