---
# =============================================================================
# USER CONFIGURATION ROLE - Per-user preference configuration
# =============================================================================
# Configures individual user preferences, dotfiles, and language packages
# Runs as 'become: user' - reads user config from infrastructure.domain.users[]
# Variables mirror the structure in configure_system/defaults/main.yml
# =============================================================================

# This role is called per-user with target_user variable set
# It reads configuration from infrastructure.domain.users[] array
# finding the user that matches target_user name

# Required variable when calling this role:
# target_user: username  # Which user from infrastructure.domain.users[] to configure

infrastructure:
  domain:
    users: []
    # Example user configuration structure:
    # - name: alice
    #   # System account fields (handled by manage_users)
    #   groups: [sudo]
    #   ssh_pubkey: "..."
    #
    #   # Cross-platform preferences (handled by this role)
    #   git:
    #     user_name: "Alice Smith"
    #     user_email: "alice@company.com"
    #   nodejs:
    #     packages: [typescript, eslint]  # Auto-installs nodejs if missing
    #   rust:
    #     packages: [ripgrep, bat]        # Auto-installs rustup if missing
    #   go:
    #     packages: [github.com/charmbracelet/glow@latest]  # Auto-installs golang if missing
    #
    #   shell: /bin/zsh                     # Cross-platform shell preference
    #   dotfiles:
    #     repository: "https://github.com/alice/dotfiles"
    #     method: stow
    #     packages: [zsh, tmux, vim]
    #
    #   # Only macOS-specific GUI features need their own section
    #   macosx:
    #     dock:
    #       tile_size: 48
    #       autohide: true
    #     finder:
    #       show_extensions: true
    #       show_hidden: true
