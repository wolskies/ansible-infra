---
# configure_host role defaults - Comprehensive host configuration
# Handles all basic host housekeeping without package management
# Supports: Ubuntu 22+, Debian 12+, Arch Linux, macOS

# =============================================================================
# HOSTNAME CONFIGURATION
# =============================================================================

# Set hostname (leave empty to skip)
config_hostname: ""

# Set FQDN (fully qualified domain name)
config_fqdn: ""

# Update /etc/hosts with hostname
config_update_hosts: true

# =============================================================================
# TIME & LOCALE CONFIGURATION
# =============================================================================

# Timezone configuration
config_system_timezone: 'UTC'          # System timezone

# NTP configuration
config_ntp_enabled: true               # Enable NTP time synchronization
config_ntp_servers:                    # NTP servers (empty = use OS defaults)
  - 0.pool.ntp.org
  - 1.pool.ntp.org
  - 2.pool.ntp.org
  - 3.pool.ntp.org

# Locale configuration
config_system_locale: 'en_US.UTF-8'    # System locale for all platforms
config_system_language: 'en_US.UTF-8'  # Language setting (Linux only)

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# System limits configuration
config_system_limits: false             # Configure system limits
config_limits:
  - domain: '*'
    limit_type: soft
    limit_item: nofile
    value: 65536
  - domain: '*'
    limit_type: hard
    limit_item: nofile
    value: 65536

# Kernel parameters (sysctl)
config_sysctl: false                    # Configure kernel parameters
config_sysctl_params:
  # Network performance
  net.core.somaxconn: 65535
  net.ipv4.tcp_max_syn_backlog: 65535
  # Swap behavior
  vm.swappiness: 10
  # File system
  fs.file-max: 2097152

# MOTD and SSH banner configuration removed for security reasons
# - Template injection vulnerabilities in MOTD
# - SSH configuration modification risks (service restart without validation)
# - Potential administrator lockout from SSH configuration errors

# =============================================================================
# LOGGING & JOURNAL CONFIGURATION
# =============================================================================

# Systemd journal configuration
config_journal: true                   # Configure systemd journal
config_journal_max_size: "500M"        # Maximum journal size
config_journal_max_retention: "30d"    # Maximum retention time

# Rsyslog configuration (if installed)
config_rsyslog: false                  # Configure rsyslog
config_rsyslog_remote_host: ""         # Remote syslog host
config_rsyslog_remote_port: 514        # Remote syslog port

# =============================================================================
# FIREWALL CONFIGURATION
# =============================================================================

# Cross-platform firewall configuration
configure_firewall: true               # Enable firewall configuration (macOS)
enable_firewall: true                  # Enable firewall rules (macOS)

# =============================================================================
# SYSTEM UPDATES CONFIGURATION
# =============================================================================

# System updates behavior
enable_system_updates: true            # Include system updates in unattended upgrades

# =============================================================================
# PLATFORM-SPECIFIC FEATURES
# =============================================================================

# Ubuntu/Debian specific
config_ubuntu_disable_snap: false      # Remove snap (moved from basic_setup)
config_ubuntu_unattended_upgrades: true # Configure unattended upgrades (Ubuntu)
config_debian_unattended_upgrades: true # Configure unattended upgrades (Debian)
config_unattended_email: ""            # Email for unattended upgrade notifications
config_unattended_reboot: false        # Allow automatic reboots
config_unattended_reboot_with_users: false # Reboot even with users logged in
config_unattended_reboot_time: "02:00"  # Time for automatic reboots

# Arch Linux specific
config_archlinux_reflector: true       # Configure reflector for mirror optimization

# macOS specific
config_macos_computer_name: ""          # Computer name (empty = use hostname)
config_macos_configure_system: true    # Apply macOS system preferences
# Xcode Command Line Tools are a prerequisite - see role tasks for details

# Dock configuration
config_macos_configure_dock: true      # Configure Dock preferences
config_macos_dock_tile_size: 48        # Dock tile size (16-128)
config_macos_dock_position: "bottom"   # Dock position (bottom, left, right)
config_macos_dock_autohide: false      # Auto-hide Dock
config_macos_dock_magnification: false # Dock magnification on hover

# Finder configuration
config_macos_configure_finder: true    # Configure Finder preferences
config_macos_finder_show_extensions: true # Show file extensions
config_macos_finder_show_hidden: false # Show hidden files
config_macos_finder_default_view: "icnv" # Default view (icnv=icon, Nlsv=list, clmv=column, Flwv=gallery)

# System behavior
config_macos_fast_key_repeat: true     # Enable fast key repeat
config_macos_disable_auto_updates: false # Disable automatic macOS updates
config_macos_require_password_immediately: true # Require password immediately after screensaver
config_macos_show_battery_percentage: true # Show battery percentage in menu bar

# Security & Privacy
config_macos_configure_security: true  # Apply security settings
config_macos_require_admin_password: true # Require admin password for system changes
