---
# New Machine Deployment Playbook
# Generated by wolskinet.infrastructure.discovery
# Source: {{ discovered_machine.hostname }} ({{ discovered_machine.type }})

- name: Deploy discovered configuration
  hosts: {{ inventory_hostname }}
  gather_facts: true
  
  roles: []
    # Uncomment roles as needed:
    #
    # - wolskinet.infrastructure.basic_setup
{% if discovered_docker.installed %}
    # - wolskinet.infrastructure.container_platform
{% endif %}
{% if discovered_dotfiles.detected %}  
    # - wolskinet.infrastructure.dotfiles
{% endif %}
    # - wolskinet.infrastructure.maintenance
{% if discovered_machine.type == 'server' %}
    # - devsec.hardening.os_hardening
    # - devsec.hardening.ssh_hardening
    # - wolskinet.infrastructure.system_security
{% endif %}