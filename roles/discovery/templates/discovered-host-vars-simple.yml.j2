# Host variables for {{ inventory_hostname }}
# Generated from infrastructure discovery on {{ ansible_date_time.iso8601 }}  
# Compatible with existing ~/Ansible/inventory/host_vars structure

---
{% if discovery_profile.docker.installed %}
# Docker service deployment configuration
docker_service_deploy:
{% for container in discovery_profile.docker.containers %}
# - {{ container.split(':')[0] | replace('/', '-') }}  # Discovered: {{ container }}
{% endfor %}

{% endif %}
{% if discovery_profile.development.dotfiles_repo_url %}
# Dotfiles configuration
dotfiles_repository_url: "{{ discovery_profile.development.dotfiles_repo_url }}"
{% if discovery_profile.development.dotfiles_branch %}
dotfiles_branch: "{{ discovery_profile.development.dotfiles_branch }}"
{% endif %}

{% endif %}
{% if discovery_profile.development.preferred_shell %}
# Shell configuration
default_shell: "{{ discovery_profile.development.preferred_shell }}"

{% endif %}
{% if discovery_profile.service_configs.nginx_sites %}
# Nginx sites configuration
nginx_sites_count: {{ discovery_profile.service_configs.nginx_sites | length }}
# TODO: Configure nginx sites based on discovered configurations

{% endif %}
{% if discovery_profile.service_configs.apache_sites %}
# Apache sites configuration  
apache_sites_count: {{ discovery_profile.service_configs.apache_sites | length }}
# TODO: Configure apache virtual hosts based on discovered configurations

{% endif %}
{% if discovery_profile.repositories.apt_sources %}
# APT repository configuration
apt_additional_sources: {{ discovery_profile.repositories.apt_sources | length }}
# TODO: Configure additional APT repositories

{% endif %}
{% if discovery_profile.repositories.aur_helpers %}
# AUR configuration (Arch Linux)
aur_helper: "{{ discovery_profile.repositories.aur_helpers[0] | basename }}"
{% if discovery_profile.packages.aur_packages %}
aur_packages_count: {{ discovery_profile.packages.aur_packages | length }}
{% endif %}

{% endif %}
{% if discovery_profile.repositories.homebrew_taps %}
# Homebrew configuration (macOS)
homebrew_taps: {{ discovery_profile.repositories.homebrew_taps | length }}

{% endif %}
# System information (for reference)
discovered_os: "{{ discovery_profile.system.distribution }} {{ discovery_profile.system.distribution_version }}"
discovered_packages: {{ discovery_profile.packages.installed.keys() | length }}
discovered_services: {{ discovery_profile.services.running | length }}

# TODO: Review and uncomment docker_service_deploy entries as needed
# TODO: Configure vault variables for sensitive data
# TODO: Customize configuration based on specific requirements