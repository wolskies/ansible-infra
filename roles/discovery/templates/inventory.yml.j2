# Infrastructure Inventory
# Generated by wolskinet.infrastructure.discovery role
# Discovery Date: {{ ansible_date_time.iso8601 }}
# Source Machine: {{ discovered_machine.hostname }}

{% for group in applicable_groups %}
{{ group }}:
  hosts:
    {{ inventory_hostname }}:
      ansible_host: UPDATE_WITH_ACTUAL_IP  # Discovered: {{ discovered_system.network.default_ipv4.address | default('unknown') }}
{% if group == 'docker_hosts' and discovered_docker.installed %}
      # Docker services ready for deployment
      services_deploy:
{% for service in discovered_docker.suggested_services %}
        # - {{ service }}  # Review and uncomment as needed
{% endfor %}
{% endif %}

{% endfor %}
# Application-specific groups
{% if discovered_services.web_servers.nginx.detected %}
nginx_hosts:
  hosts:
    {{ inventory_hostname }}:

{% endif %}
{% if discovered_services.web_servers.apache.detected %}
apache_hosts:
  hosts:
    {{ inventory_hostname }}:

{% endif %}
{% if discovered_services.databases.mysql_detected %}
mysql_hosts:
  hosts:
    {{ inventory_hostname }}:

{% endif %}
{% if discovered_services.databases.postgresql_detected %}
postgresql_hosts:
  hosts:
    {{ inventory_hostname }}:

{% endif %}
# TODO: Update all ansible_host entries with actual IP addresses
# TODO: Review and enable desired Docker services
# TODO: Add additional hosts to groups as needed