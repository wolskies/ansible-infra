# Infrastructure Discovery Report

**Source**: {{ discovered_machine.hostname }} ({{ discovered_machine.type }})  
**Date**: {{ discovered_machine.discovered_at }}  
**OS**: {{ discovered_system.os.distribution }} {{ discovered_system.os.version }}

## Discovery Results

**Packages**: {{ discovered_packages.total | default(0) }} found
{% if discovered_packages.development_packages %}
**Development Tools**: {{ discovered_packages.development_packages | length }} packages detected
{% endif %}

**Services**: {{ discovered_services.running | default([]) | length }} running

{% if discovered_docker.installed %}
**Docker**: Installed ({{ discovered_docker.containers.total | default(0) }} containers)
{% endif %}

{% if discovered_desktop.detected %}
**Desktop**: GUI environment detected
{% endif %}

{% if discovered_users.dotfiles.detected %}
**Dotfiles**: Repository detected
{% if discovered_users.dotfiles.repository_url %}
- URL: {{ discovered_users.dotfiles.repository_url }}
{% endif %}
{% endif %}

## Generated Files

- `host_vars/{{ inventory_hostname }}.yml` - Host-specific variables for your inventory
- `{{ inventory_hostname }}_discovered.yml` - Deployment playbook for this host

## Next Steps

1. Review generated host_vars file for accuracy
2. Uncomment desired roles in the deployment playbook
3. Configure vault variables for sensitive data
4. Deploy: `ansible-playbook {{ inventory_hostname }}_discovered.yml`

## File Locations

The discovery role respects your ansible.cfg configuration:
- Host variables: Added to your configured inventory directory
- Playbook: Created in your configured playbooks directory