---
# Host Variables for {{ inventory_hostname }}
# Generated by wolskinet.infrastructure.discovery role
# Generated on: {{ ansible_date_time.iso8601 }}

{% if discovery_host_vars is defined and discovery_host_vars | length > 0 %}
{% for section_key, section_data in discovery_host_vars.items() | sort %}
{% set section_name = {
  'packages': 'PACKAGE MANAGEMENT',
  'security': 'FIREWALL & SECURITY', 
  'docker': 'DOCKER SERVICES',
  'users': 'USER CONFIGURATION',
  'system_tuning': 'SYSTEM TUNING',
  'discovery_metadata': 'DISCOVERY METADATA'
}.get(section_key, section_key | upper | replace('_', ' ')) %}

# === {{ section_name }} ===
{{ section_data | to_nice_yaml(indent=2, width=1000) }}

{% endfor %}
{% else %}
# No configuration discovered or discovery failed
# This could indicate:
# - No packages were found on the target system
# - Discovery modules encountered errors  
# - The target system doesn't match supported OS versions

{% endif %}