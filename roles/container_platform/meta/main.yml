---
galaxy_info:
  author: Ed Wolski
  description: Container platform role with service registry and management (uses geerlingguy.docker for installation)
  company: wolskinet
  license: GPL-3.0-or-later
  min_ansible_version: "2.15"
  platforms:
    - name: Ubuntu
      versions:
        - "24.04"
    - name: Debian
      versions:
        - "12"
        - "13"
    - name: ArchLinux
      versions:
        - all

  galaxy_tags:
    - docker
    - containers
    - infrastructure
    - devops

dependencies:
  - role: geerlingguy.docker
    vars:
      docker_install_compose_plugin: true
      docker_users: "{{ docker_users }}"
      docker_daemon_options: "{{ docker_daemon_config }}"
      docker_service_manage: true
      docker_service_state: started
      docker_service_enabled: true
  - role: wolskinet.infrastructure.configure_host
    when: container_platform_require_host_config | default(false)
  - role: wolskinet.infrastructure.manage_packages
    when: container_platform_require_packages | default(false)
  - role: wolskinet.infrastructure.manage_users
    when: container_platform_require_users | default(false)
