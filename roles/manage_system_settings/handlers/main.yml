---
# handlers file for manage_system_settings

- name: Update initramfs
  ansible.builtin.command: "{{ system_settings_initramfs_update_command }}"
  become: true
  changed_when: true
  listen: "Update initramfs"

- name: Update font cache
  ansible.builtin.command: fc-cache -f -v
  become: true
  changed_when: true
  listen: "Update font cache"

- name: restart dock
  ansible.builtin.command: killall Dock
  changed_when: false
  failed_when: false
  when: ansible_distribution == 'MacOSX'

- name: restart finder
  ansible.builtin.command: killall Finder
  changed_when: false
  failed_when: false
  when: ansible_distribution == 'MacOSX'

- name: restart cfprefsd
  ansible.builtin.command: killall cfprefsd
  become: true
  changed_when: false
  failed_when: false
  when: ansible_distribution == 'MacOSX'
