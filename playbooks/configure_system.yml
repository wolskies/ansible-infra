---
# =============================================================================
# COMPLETE SYSTEM CONFIGURATION PLAYBOOK
# =============================================================================
# This playbook demonstrates the complete collection workflow
# =============================================================================

- name: Configure infrastructure and users
  hosts: all
  become: true

  tasks:
    # ---------------------------------------------------------------------
    # INFRASTRUCTURE CONFIGURATION (OS, PACKAGES, SECURITY)
    # ---------------------------------------------------------------------

    - name: Configure operating system
      ansible.builtin.include_role:
        name: wolskies.infrastructure.os_configuration
      tags:
        - os
        - infrastructure

    - name: Manage system packages
      ansible.builtin.include_role:
        name: wolskies.infrastructure.manage_packages
      tags:
        - packages
        - infrastructure

    - name: Configure security services
      ansible.builtin.include_role:
        name: wolskies.infrastructure.manage_security_services
      tags:
        - security
        - infrastructure

    - name: Manage Flatpak packages
      ansible.builtin.include_role:
        name: wolskies.infrastructure.manage_flatpak
      tags:
        - flatpak
        - infrastructure

    - name: Manage Snap packages
      ansible.builtin.include_role:
        name: wolskies.infrastructure.manage_snap_packages
      tags:
        - snap
        - infrastructure

    # ---------------------------------------------------------------------
    # USER CONFIGURATION
    # ---------------------------------------------------------------------

    - name: Configure user accounts and preferences
      ansible.builtin.include_role:
        name: wolskies.infrastructure.configure_users
      tags:
        - users
        - preferences
