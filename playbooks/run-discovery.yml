---
# Discovery Playbook for wolskies.infrastructure collection
# Scans target machine(s) and generates deployment configurations
#
# Usage: ansible-playbook playbooks/run-discovery.yml -i inventory/inventory.yml -l target-host --ask-become-pass
#
# Output will be created in:
#   inventory/host_vars/{hostname}.yml
#   playbooks/{hostname}_discovered.yml

- name: Infrastructure Discovery
  hosts: all
  gather_facts: true

  tasks:
    - name: Run infrastructure discovery
      ansible.builtin.include_role:
        name: wolskies.infrastructure.discovery
